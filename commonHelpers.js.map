{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["export function getPhotos(query) {\n    const baseUrl = 'https://pixabay.com';\n    const endPoint = '/api/';\n\n    const params = new URLSearchParams({\n        key: '44168099-5911f69422da676ec159a331f',\n        q: `${query}`,\n        image_type: \"photo\",\n        orientation: \"horizontal\",\n        safesearch: \"true\"\n    });\n\n    const url = `${baseUrl}${endPoint}?${params}`;\n\n    return fetch(url)\n        .then(res => {\n            if (!res.ok) {\n                throw new Error(res.status);\n            }\n            return res.json();\n        })\n        .then(data => data.hits);\n}\n\n// getPhotos(\"dogs\");\n","// Описаний у документації\nimport iziToast from \"izitoast\";\n// Додатковий імпорт стилів\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport simpleLightbox from \"simplelightbox\";\n// Описаний у документації\nimport SimpleLightbox from \"simplelightbox\";\n// Додатковий імпорт стилів\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nconst gallery = document.querySelector(\".gallery\");\nconst loader = document.querySelector(\".loader\");\nlet lightbox;\n\nexport function renderGallery(images) {\n    gallery.innerHTML = images.map(image => createMarkup(image)).join(\"\");\n    if (lightbox) {\n        lightbox.refresh();\n    } else {\n        lightbox = new simpleLightbox(\".gallery a\", {});\n    }\n}\n\nfunction createMarkup(image) {\n    return `\n    <div class=\"gallery-item\">\n                <a href=\"${image.largeImageURL}\" class=\"gallery-link\">\n                    <img src=\"${image.webformatURL}\" alt=\"${image.tags}\" />\n                </a>\n                <ul>\n                <li><p>Likes: ${image.likes}</p></li>\n                <li><p>Views: ${image.views}</p></li>\n                <li><p>Comments: ${image.comments}</p></li>\n                <li><p>Downloads: ${image.downloads}</p></li>\n                </ul>\n            </div>\n            `;\n}","import { getPhotos } from './js/pixabay-api.js';\nimport { renderGallery } from './js/render-functions.js';\n\nconst searchForm = document.querySelector(\".search-form\");\nconst input = document.querySelector(\"input\");\n\nsearchForm.addEventListener(\"submit\", (event) => {\n    event.preventDefault();\n    const query = input.value.trim();\n    if (!query) {\n        showError();\n        return;\n    }\n\n    // showLoader();\n\n    getPhotos(query)\n        .then(images => {\n            if (input.value === \"\") {\n                clearGallery()\n                showError();\n            } else {\n                renderGallery(images);\n            }\n        })\n        .catch(error => {\n            showError(message, error);\n        })\n        .finally(() => {\n            hideLoader();\n        });\n});"],"names":["getPhotos","query","baseUrl","endPoint","params","url","res","data","gallery","lightbox","renderGallery","images","image","createMarkup","simpleLightbox","searchForm","input","event","error"],"mappings":"svBAAO,SAASA,EAAUC,EAAO,CAC7B,MAAMC,EAAU,sBACVC,EAAW,QAEXC,EAAS,IAAI,gBAAgB,CAC/B,IAAK,qCACL,EAAG,GAAGH,CAAK,GACX,WAAY,QACZ,YAAa,aACb,WAAY,MACpB,CAAK,EAEKI,EAAM,GAAGH,CAAO,GAAGC,CAAQ,IAAIC,CAAM,GAE3C,OAAO,MAAMC,CAAG,EACX,KAAKC,GAAO,CACT,GAAI,CAACA,EAAI,GACL,MAAM,IAAI,MAAMA,EAAI,MAAM,EAE9B,OAAOA,EAAI,MACvB,CAAS,EACA,KAAKC,GAAQA,EAAK,IAAI,CAC/B,CCZA,MAAMC,EAAU,SAAS,cAAc,UAAU,EAClC,SAAS,cAAc,SAAS,EAC/C,IAAIC,EAEG,SAASC,EAAcC,EAAQ,CAClCH,EAAQ,UAAYG,EAAO,IAAIC,GAASC,EAAaD,CAAK,CAAC,EAAE,KAAK,EAAE,EAChEH,EACAA,EAAS,QAAO,EAEhBA,EAAW,IAAIK,EAAe,aAAc,CAAE,CAAA,CAEtD,CAEA,SAASD,EAAaD,EAAO,CACzB,MAAO;AAAA;AAAA,2BAEgBA,EAAM,aAAa;AAAA,gCACdA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA;AAAA,gCAGtCA,EAAM,KAAK;AAAA,gCACXA,EAAM,KAAK;AAAA,mCACRA,EAAM,QAAQ;AAAA,oCACbA,EAAM,SAAS;AAAA;AAAA;AAAA,aAInD,CClCA,MAAMG,EAAa,SAAS,cAAc,cAAc,EAClDC,EAAQ,SAAS,cAAc,OAAO,EAE5CD,EAAW,iBAAiB,SAAWE,GAAU,CAC7CA,EAAM,eAAc,EACpB,MAAMhB,EAAQe,EAAM,MAAM,KAAI,EAC9B,GAAI,CAACf,EAAO,CACR,YACA,MACH,CAIDD,EAAUC,CAAK,EACV,KAAKU,GAAU,CACRK,EAAM,QAAU,IAChB,aAAc,EACd,aAEAN,EAAcC,CAAM,CAEpC,CAAS,EACA,MAAMO,GAAS,CACZ,UAAU,QAASA,CAAK,CACpC,CAAS,EACA,QAAQ,IAAM,CACX,YACZ,CAAS,CACT,CAAC"}